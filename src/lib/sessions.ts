// ============================================
// SleepWell DTx - CBT-I 주간 세션 콘텐츠
// ============================================

export interface SessionContent {
  week: number;
  title: string;
  theme: string;
  emoji: string;
  duration: string;
  summary: string;
  sections: {
    heading: string;
    content: string;
  }[];
  keyPoints: string[];
  practices: {
    id: string;
    label: string;
    description: string;
  }[];
  reflection: string; // 주간 성찰 질문
}

export const SESSIONS: SessionContent[] = [
  {
    week: 1,
    title: "수면의 이해",
    theme: "관찰 & 인식",
    emoji: "🧠",
    duration: "약 10분",
    summary:
      "수면의 기본 원리와 불면증의 메커니즘을 이해합니다. 나의 수면 패턴을 객관적으로 관찰하는 첫걸음입니다.",
    sections: [
      {
        heading: "수면은 왜 중요한가요?",
        content:
          "수면은 단순한 '휴식'이 아닙니다. 잠자는 동안 뇌는 낮에 쌓인 노폐물을 청소하고, 기억을 정리하며, 면역 시스템을 강화합니다. 성인은 하루 7~9시간의 수면이 권장되며, 수면의 '양'뿐 아니라 '질'도 중요합니다.",
      },
      {
        heading: "수면의 구조: NREM과 REM",
        content:
          "수면은 약 90분 주기로 NREM(비렘수면)과 REM(렘수면)이 반복됩니다.\n\n• N1 (얕은 수면): 잠들기 시작하는 단계 (5%)\n• N2 (중간 수면): 체온 하강, 심박수 감소 (45%)\n• N3 (깊은 수면): 성장호르몬 분비, 신체 회복 (25%)\n• REM (꿈수면): 기억 정리, 감정 처리 (25%)\n\n밤의 전반부에 깊은 수면이, 후반부에 REM 수면이 더 많이 나타납니다.",
      },
      {
        heading: "불면증은 어떻게 만들어지나요?",
        content:
          "스필만의 3P 모델에 따르면 불면증은 세 가지 요인이 합쳐져 만들어집니다.\n\n• 소인(Predisposing): 유전, 성격 등 타고난 취약성\n• 촉발(Precipitating): 스트레스, 질병 등 불면을 일으킨 사건\n• 지속(Perpetuating): 잘못된 수면 습관, 걱정 등 불면을 유지시키는 요인\n\nCBT-I는 세 번째 '지속 요인'을 줄여 불면증의 악순환을 끊습니다.",
      },
      {
        heading: "이번 주 목표",
        content:
          "이번 주는 매일 수면 일지를 기록하며 나의 수면 패턴을 관찰합니다. 아직 바꾸려 하지 말고, 있는 그대로를 관찰하세요. 객관적 데이터가 변화의 시작점이 됩니다.",
      },
    ],
    keyPoints: [
      "수면은 뇌와 몸의 회복에 필수적입니다",
      "수면은 90분 주기로 NREM-REM이 반복됩니다",
      "불면증은 '지속 요인'이 핵심이며 CBT-I로 개선 가능합니다",
      "이번 주는 관찰이 목표입니다 — 매일 수면 일지 기록",
    ],
    practices: [
      { id: "w1p1", label: "수면 일지 매일 기록하기", description: "아침에 일어나면 바로 기록합니다" },
      { id: "w1p2", label: "나의 평소 수면 패턴 관찰하기", description: "몇 시에 자고 몇 시에 일어나나요?" },
      { id: "w1p3", label: "카페인 섭취 시간 체크하기", description: "마지막 카페인이 몇 시인지 확인합니다" },
    ],
    reflection: "이번 주 수면 일지를 기록하면서 새로 알게 된 점이 있나요?",
  },
  {
    week: 2,
    title: "수면 위생",
    theme: "환경 개선",
    emoji: "🛏️",
    duration: "약 10분",
    summary:
      "수면 환경과 생활 습관을 점검합니다. 작은 변화가 수면의 질을 크게 바꿀 수 있습니다.",
    sections: [
      {
        heading: "수면 위생이란?",
        content:
          "수면 위생(Sleep Hygiene)은 좋은 수면을 위한 환경과 습관을 말합니다. 수면 위생만으로 불면증이 완치되지는 않지만, 다른 치료법의 효과를 높이는 기본 토대입니다.",
      },
      {
        heading: "수면 환경 최적화",
        content:
          "• 온도: 침실 온도 18~20°C가 적정합니다\n• 빛: 암막 커튼 또는 수면 안대를 사용하세요\n• 소음: 귀마개 또는 백색소음을 활용하세요\n• 침구: 편안한 매트리스와 베개를 사용하세요\n• 침대 = 수면 전용: 침대에서 TV, 핸드폰, 업무를 하지 마세요",
      },
      {
        heading: "생활 습관 체크리스트",
        content:
          "✅ DO (해야 할 것)\n• 매일 같은 시간에 기상하기 (주말 포함)\n• 낮에 30분 이상 햇빛 쬐기\n• 규칙적인 운동 (취침 4시간 전 마무리)\n• 취침 1시간 전 이완 루틴 만들기\n\n❌ DON'T (피해야 할 것)\n• 오후 2시 이후 카페인 섭취\n• 취침 전 알코올 (수면의 질 저하)\n• 취침 전 격한 운동이나 밝은 화면\n• 시계를 자주 확인하는 행동 (시간 모니터링)",
      },
      {
        heading: "이번 주 목표",
        content:
          "수면 환경을 하나 이상 개선하고, '하지 말아야 할 것' 중 하나를 실천합니다. 한꺼번에 많이 바꾸지 말고, 한 가지씩 천천히 습관을 만들어 가세요.",
      },
    ],
    keyPoints: [
      "침실 환경: 어둡고, 시원하고, 조용하게",
      "침대는 수면(과 부부관계)에만 사용합니다",
      "매일 같은 시간에 기상하는 것이 가장 중요합니다",
      "카페인은 오후 2시 이전까지만",
    ],
    practices: [
      { id: "w2p1", label: "침실 환경 1가지 개선하기", description: "온도, 빛, 소음 중 하나를 개선합니다" },
      { id: "w2p2", label: "기상 시간 일정하게 유지하기", description: "주말에도 같은 시간에 일어납니다" },
      { id: "w2p3", label: "취침 전 스크린 타임 줄이기", description: "잠들기 1시간 전 핸드폰 내려놓기" },
    ],
    reflection: "수면 환경이나 습관을 바꾼 후 느낀 변화가 있나요?",
  },
  {
    week: 3,
    title: "이완 훈련",
    theme: "긴장 해소",
    emoji: "🧘",
    duration: "약 10분",
    summary:
      "몸과 마음의 긴장을 풀어주는 이완 기법을 배웁니다. 매일 연습할수록 효과가 커집니다.",
    sections: [
      {
        heading: "긴장과 수면의 관계",
        content:
          "불면증 환자의 대부분은 잠자리에 들 때 '과각성(hyperarousal)' 상태입니다. 몸은 피곤하지만 뇌는 깨어있는 상태죠. 이완 훈련은 이 과각성을 낮추어 자연스럽게 잠들 수 있게 도와줍니다.",
      },
      {
        heading: "호흡법 (4-7-8 호흡)",
        content:
          "가장 간단하면서 효과적인 이완법입니다.\n\n1. 코로 4초간 들이쉽니다\n2. 7초간 숨을 참습니다\n3. 입으로 8초간 천천히 내쉽니다\n\n3~4회 반복하면 부교감신경이 활성화되어 심박수가 낮아지고 몸이 이완됩니다. SleepWell의 '이완 도구'에서 가이드를 따라 해보세요.",
      },
      {
        heading: "점진적 근이완법 (PMR)",
        content:
          "에드먼드 제이콥슨이 개발한 이 기법은 근육을 의도적으로 긴장시켰다가 이완하는 방법입니다.\n\n• 발부터 시작해 머리까지 올라갑니다\n• 각 부위를 5초간 힘껏 긴장 → 10초간 이완\n• 긴장과 이완의 차이를 느끼는 것이 핵심\n\n처음에는 어색하지만, 반복할수록 몸이 '이완 신호'를 빠르게 인식합니다.",
      },
      {
        heading: "바디스캔 명상",
        content:
          "바디스캔은 몸의 감각에 주의를 기울이는 마음챙김(mindfulness) 기법입니다. 발끝부터 머리까지 천천히 주의를 이동하며 판단 없이 관찰합니다. 잡념이 떠오르면 부드럽게 몸의 감각으로 돌아오세요. 약 5~10분이면 충분합니다.",
      },
      {
        heading: "이번 주 목표",
        content:
          "취침 전 이완 루틴을 정합니다. 호흡법, PMR, 바디스캔 중 자신에게 맞는 것을 선택해 매일 연습하세요. 같은 시간, 같은 장소에서 하면 효과가 더 좋습니다.",
      },
    ],
    keyPoints: [
      "불면의 핵심 원인 중 하나는 과각성(hyperarousal)입니다",
      "이완 훈련은 부교감신경을 활성화해 과각성을 낮춥니다",
      "호흡법 → PMR → 바디스캔, 자신에게 맞는 것을 선택하세요",
      "매일 같은 시간에 반복하면 '수면 신호'가 됩니다",
    ],
    practices: [
      { id: "w3p1", label: "취침 전 이완법 1가지 선택하기", description: "호흡법, PMR, 바디스캔 중 선택" },
      { id: "w3p2", label: "매일 이완 연습하기", description: "이완 도구를 사용해 매일 연습합니다" },
      { id: "w3p3", label: "이완 루틴 시간 정하기", description: "취침 15~30분 전 고정 시간 정하기" },
    ],
    reflection: "어떤 이완법이 가장 편안했나요? 이완 후 잠드는 데 도움이 되었나요?",
  },
  {
    week: 4,
    title: "인지 재구성",
    theme: "생각 바꾸기",
    emoji: "💭",
    duration: "약 12분",
    summary:
      "수면에 대한 비합리적인 생각을 발견하고, 현실적인 생각으로 바꿉니다. 걱정이 불면의 연료입니다.",
    sections: [
      {
        heading: "수면에 대한 잘못된 믿음",
        content:
          "불면증을 겪는 사람들은 수면에 대해 비현실적인 기대나 걱정을 갖고 있는 경우가 많습니다. 이런 생각들이 오히려 수면을 방해합니다.\n\n대표적인 예:\n• \"8시간 못 자면 내일 하루가 망해\"\n• \"어젯밤도 못 잤으니 오늘도 못 잘 거야\"\n• \"잠을 못 자면 건강이 심각하게 나빠져\"\n• \"나는 수면 능력이 없는 사람이야\"",
      },
      {
        heading: "인지 왜곡 패턴 알아보기",
        content:
          "• 과대평가: 수면 부족의 영향을 실제보다 크게 봄\n• 흑백사고: \"완벽한 수면\" 아니면 \"재앙\" 식의 이분법\n• 파국화: 한 번 못 잔 것을 영원한 문제로 확대\n• 선택적 주의: 못 잔 밤만 기억하고, 잘 잔 밤은 무시\n• 자기실현적 예언: \"못 잘 거야\" 생각이 실제로 잠을 방해",
      },
      {
        heading: "생각 기록법 (Thought Record)",
        content:
          "잠들기 어려운 밤, 떠오르는 생각을 적어보세요.\n\n1단계. 상황: 밤 12시, 침대에 누워있다\n2단계. 자동 사고: \"또 잠이 안 온다. 내일 발표 망할 거야\"\n3단계. 감정: 불안 80%, 짜증 60%\n4단계. 근거 찾기: \"지난주도 못 잔 다음 날 발표 잘 했었다\"\n5단계. 대안 사고: \"좀 피곤할 수 있지만, 하루 못 잔다고 망하진 않아\"\n6단계. 감정 재평가: 불안 40%, 짜증 30%",
      },
      {
        heading: "걱정 시간 정하기",
        content:
          "잠자리에서 걱정하는 대신, 낮에 '걱정 시간'을 따로 정하세요.\n\n• 매일 저녁 8시, 15분간 '걱정 노트' 작성\n• 걱정거리와 할 수 있는 행동을 적습니다\n• 이 시간 외에는 \"걱정 시간에 다루자\"라고 미룹니다\n• 침대에서 걱정이 떠오르면 → 호흡법으로 전환",
      },
      {
        heading: "이번 주 목표",
        content:
          "잠들기 어려울 때 떠오르는 생각을 관찰하고, 생각 기록법을 최소 3번 시도합니다. 생각을 바꾸는 것은 시간이 걸리는 과정이니 자신에게 너그러워지세요.",
      },
    ],
    keyPoints: [
      "수면에 대한 비합리적 믿음이 불면을 악화시킵니다",
      "걱정 → 긴장 → 불면 → 더 걱정의 악순환을 인식하세요",
      "생각 기록법으로 자동사고를 현실적으로 재평가합니다",
      "걱정 시간을 정해 침대에서의 걱정을 분리하세요",
    ],
    practices: [
      { id: "w4p1", label: "생각 기록법 3회 시도하기", description: "잠 안 올 때 떠오르는 생각을 적고 재평가합니다" },
      { id: "w4p2", label: "수면에 대한 비합리적 믿음 찾기", description: "나만의 '잘못된 수면 믿음'을 발견합니다" },
      { id: "w4p3", label: "걱정 시간 정하기", description: "매일 저녁 15분 걱정 노트 작성 시간 정하기" },
    ],
    reflection: "수면에 대한 생각 중 비합리적인 것을 발견했나요? 대안적 생각은 무엇이었나요?",
  },
  {
    week: 5,
    title: "수면 제한",
    theme: "수면효율 높이기",
    emoji: "⏰",
    duration: "약 12분",
    summary:
      "침대에서 보내는 시간을 줄여 수면효율을 높입니다. 가장 효과적이지만 처음엔 힘든 방법입니다.",
    sections: [
      {
        heading: "수면 제한 요법이란?",
        content:
          "수면 제한(Sleep Restriction Therapy)은 CBT-I에서 가장 핵심적인 기법입니다. 역설적이지만, 침대에서 보내는 시간을 줄여야 수면의 질이 높아집니다.\n\n불면증 환자들은 보통 침대에 8~10시간 누워있지만, 실제 수면은 5~6시간뿐입니다. 이 '빈 시간'이 뒤척임과 걱정을 만듭니다.",
      },
      {
        heading: "수면 창(Sleep Window) 계산하기",
        content:
          "1. 지난 1주일 수면 일지에서 평균 총 수면시간(TST)을 확인합니다\n2. 수면 창 = 평균 TST + 30분 (최소 5시간)\n   예: 평균 TST가 5.5시간이면 → 수면 창 = 6시간\n3. 기상 시간을 고정합니다 (예: 오전 7시)\n4. 취침 시간 = 기상 시간 - 수면 창\n   예: 7시 기상 - 6시간 = 새벽 1시 취침\n\n처음에는 수면 시간이 짧아져 피곤할 수 있습니다. 이것은 정상이며, 수면 압력이 쌓여 더 깊이 잠들게 됩니다.",
      },
      {
        heading: "수면 창 조절 규칙",
        content:
          "매주 수면효율(SE)을 계산해 수면 창을 조절합니다.\n\n• SE ≥ 90%: 수면 창을 15분 늘립니다 (취침 시간 15분 앞당김)\n• SE 85~89%: 현재 수면 창 유지\n• SE < 85%: 수면 창을 15분 줄입니다 (취침 시간 15분 늦춤)\n\n수면효율 = (총 수면시간 / 침대에 있던 시간) × 100%\n\n목표 수면효율은 85% 이상입니다.",
      },
      {
        heading: "주의사항",
        content:
          "• 기상 시간은 절대 바꾸지 마세요. 취침 시간만 조절합니다\n• 수면 창 시간 전에 졸려도 침대에 가지 마세요\n• 낮잠을 피하세요 (수면 압력 유지)\n• 처음 3~5일이 가장 힘듭니다. 이후 빠르게 좋아집니다\n• 운전이나 위험한 작업에 주의하세요",
      },
      {
        heading: "이번 주 목표",
        content:
          "수면 일지 데이터를 바탕으로 나만의 수면 창을 계산하고, 최소 5일간 실천합니다. 리포트 페이지에서 수면효율 변화를 확인하세요.",
      },
    ],
    keyPoints: [
      "침대에서 보내는 시간 ≠ 수면 시간 → 차이를 줄여야 합니다",
      "수면 창 = 평균 TST + 30분 (최소 5시간)",
      "기상 시간은 고정, 취침 시간만 조절합니다",
      "수면효율 85% 이상이 목표입니다",
    ],
    practices: [
      { id: "w5p1", label: "나의 수면 창 계산하기", description: "리포트에서 평균 TST 확인 후 수면 창 계산" },
      { id: "w5p2", label: "수면 창에 맞춰 취침하기", description: "계산한 시간에 맞춰 5일 이상 실천" },
      { id: "w5p3", label: "수면효율 변화 확인하기", description: "리포트에서 수면효율 추이를 확인합니다" },
    ],
    reflection: "수면 제한을 실천하며 가장 어려웠던 점은 무엇인가요? 수면의 질에 변화가 있었나요?",
  },
  {
    week: 6,
    title: "유지 & 재발 방지",
    theme: "장기 전략",
    emoji: "🌟",
    duration: "약 10분",
    summary:
      "6주간 배운 것을 정리하고, 장기적으로 좋은 수면을 유지하는 전략을 세웁니다.",
    sections: [
      {
        heading: "6주간의 여정을 돌아보며",
        content:
          "지난 6주간 많은 것을 배우고 실천했습니다.\n\n• 1주차: 수면의 원리를 이해하고 관찰을 시작했습니다\n• 2주차: 수면 환경과 습관을 개선했습니다\n• 3주차: 이완 기법을 배우고 루틴을 만들었습니다\n• 4주차: 수면에 대한 생각을 점검하고 바꿨습니다\n• 5주차: 수면 제한으로 수면효율을 높였습니다\n• 6주차: 이 모든 것을 장기 전략으로 통합합니다",
      },
      {
        heading: "나만의 수면 전략 만들기",
        content:
          "6주간의 경험을 바탕으로, 나에게 가장 효과적이었던 것들을 정리하세요.\n\n1. 가장 도움이 된 기법 3가지는?\n2. 나의 수면을 방해하는 요인 3가지는?\n3. 나의 최적 수면 창(취침-기상 시간)은?\n4. 스트레스를 받을 때 사용할 이완법은?\n5. 잠이 안 올 때의 대응 계획은?",
      },
      {
        heading: "재발에 대비하기",
        content:
          "불면증은 재발할 수 있습니다. 하지만 이제 대처법을 알고 있습니다.\n\n재발 징후:\n• 입면에 30분 이상 걸리는 날이 주 3회 이상\n• 수면효율이 80% 이하로 떨어짐\n• 수면에 대한 걱정이 다시 시작됨\n\n대응 전략:\n• 수면 일지 기록을 다시 시작하세요\n• 수면 제한을 다시 적용하세요\n• 이완 루틴을 강화하세요\n• 2주 이상 호전되지 않으면 전문가 상담을 고려하세요",
      },
      {
        heading: "ISI 재평가",
        content:
          "프로그램 시작 전 ISI 점수와 현재를 비교해보세요. SleepWell의 자가진단을 다시 해보고, 점수 변화를 확인합니다. 변화가 작더라도 괜찮습니다 — CBT-I의 효과는 프로그램 종료 후에도 계속 나타납니다.",
      },
      {
        heading: "앞으로의 계획",
        content:
          "• 수면 일지: 최소 주 3회는 계속 기록하세요\n• 이완 루틴: 매일 취침 전 유지하세요\n• 수면 창: 수면효율에 따라 계속 조절하세요\n• 정기 점검: 한 달에 한 번 ISI를 다시 해보세요\n\n좋은 수면은 하루아침에 만들어지지 않지만, 꾸준한 실천으로 반드시 나아집니다. 수고하셨습니다! 🌙",
      },
    ],
    keyPoints: [
      "6주간 배운 기법들을 자신만의 전략으로 통합하세요",
      "재발 징후를 알고, 대응 계획을 미리 세워두세요",
      "ISI 재평가로 변화를 확인하세요",
      "수면 일지와 이완 루틴은 장기적으로 유지하세요",
    ],
    practices: [
      { id: "w6p1", label: "나만의 수면 전략 정리하기", description: "가장 효과적이었던 기법 3가지 정리" },
      { id: "w6p2", label: "ISI 자가진단 다시 하기", description: "6주 전과 비교해 변화를 확인합니다" },
      { id: "w6p3", label: "장기 유지 계획 세우기", description: "앞으로의 수면 관리 계획을 세웁니다" },
    ],
    reflection: "6주간의 프로그램을 통해 가장 크게 변화한 것은 무엇인가요?",
  },
];

export function getSession(week: number): SessionContent | undefined {
  return SESSIONS.find((s) => s.week === week);
}
